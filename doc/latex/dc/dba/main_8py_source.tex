\hypertarget{main_8py_source}{}\doxysection{main.\+py}
\label{main_8py_source}\index{examples/knapsack-\/ga/main.py@{examples/knapsack-\/ga/main.py}}
\mbox{\hyperlink{main_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00026}00026 \textcolor{keyword}{from} util.ga \textcolor{keyword}{import} run, visualize,save\_to\_file}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00028}00028 \textcolor{keyword}{import} numpy \textcolor{keyword}{as} np}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00033}00033 \textcolor{keyword}{def }to\_binary(value, number\_of\_bits, lsb=False):}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00034}00034     \textcolor{keywordflow}{if} lsb:}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00035}00035         \textcolor{keywordflow}{return} np.flip(np.array(list(np.binary\_repr(value, number\_of\_bits)), dtype=int))}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00036}00036     \textcolor{keywordflow}{return} np.array(list(np.binary\_repr(value, number\_of\_bits)), dtype=int)}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00039}00039 \textcolor{keyword}{def }to\_decimal(x):}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00040}00040     x = np.flip(x)}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00041}00041     y = 0}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00042}00042     \textcolor{keywordflow}{for} i, j \textcolor{keywordflow}{in} enumerate(x):}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00043}00043         y += j << i}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00044}00044     \textcolor{keywordflow}{return} y}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00047}00047 MAX\_ALLOWED\_MASS = 20}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00048}00048 TOTAL\_VALUE = 0}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00051}00051 \textcolor{comment}{\#items = [(np.random.randint(1,50),np.random.randint(1,100)) for \_ in range(0,50)]}}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00052}00052 items = [(10, 96), (13, 38), (15, 71), (1, 88), (4, 93), (18, 32), (16, 85), (7, 50), (15, 30), (13, 90), (18, 3), (7, 61), (4, 41), (19, 35), (16, 19), (14, 18), (13, 56), (1, 74), (19, 32), (3, 42), (10, 43), (3, 29), (3, 5), (18, 14), (7, 93), (19, 32), (3, 11), (3, 85), (19, 44), (2, 55), (2, 95), (13, 76)]}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00055}00055 \textcolor{keyword}{def }on\_generation\_callback(current\_generation, best\_solution,best\_fitness):}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00056}00056     print(\textcolor{stringliteral}{"{}Generation: "{}}, current\_generation)}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00057}00057     print(\textcolor{stringliteral}{"{}Best solution \{0\} Fitness \{1\}"{}}.format(best\_solution, best\_fitness))}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00058}00058     \textcolor{keywordflow}{return} 0}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00059}00059 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00061}00061 \textcolor{keyword}{def }fitness\_function(solution\_idx, solution):}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00062}00062     total\_value = 0}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00063}00063     total\_weight = 0}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00064}00064     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(0,len(solution)):}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00065}00065         \textcolor{keywordflow}{if} solution[i] == 1:}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00066}00066             item = items[i]}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00067}00067             total\_value+=item[1]}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00068}00068 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00069}00069     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(0, len(solution)):}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00070}00070         \textcolor{keywordflow}{if} solution[i] == 1:}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00071}00071             item = items[i]}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00072}00072             total\_weight+=item[0]}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00074}00074     \textcolor{keywordflow}{if} total\_weight < MAX\_ALLOWED\_MASS:}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00075}00075         \textcolor{keywordflow}{return} total\_value}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00076}00076     \textcolor{keywordflow}{return} 0}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00077}00077 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00078}00078 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00080}00080 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00081}00081 }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00082}00082 \textcolor{keywordflow}{if} \_\_name\_\_ == \textcolor{stringliteral}{'\_\_main\_\_'}:}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00083}00083     solution, fitness = run(}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00084}00084         chromosome\_size=len(items),}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00085}00085         gene\_low=0,}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00086}00086         gene\_high=2,}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00087}00087         population\_size=100,}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00088}00088         mutation\_rate=0.02,}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00089}00089         crossover\_rate=0.8,}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00090}00090         fitness\_func=fitness\_function,}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00091}00091         number\_of\_generations=50,}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00092}00092         crossover\_type=\textcolor{stringliteral}{"{}uniform"{}},}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00093}00093         selection\_type=\textcolor{stringliteral}{"{}roulette-\/wheel-\/selection"{}},}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00094}00094         stop\_criteria\_saturate=100,}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00095}00095         on\_generation\_cbk=on\_generation\_callback,}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00096}00096     )}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00097}00097     }
\DoxyCodeLine{\Hypertarget{main_8py_source_l00098}00098     print(f\textcolor{stringliteral}{"{}Item configuration: \{items\}"{}})}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00099}00099     visualize()}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00100}00100     save\_to\_file(\textcolor{stringliteral}{"{}quantum\_random\_ga"{}})}
\DoxyCodeLine{\Hypertarget{main_8py_source_l00101}00101 }

\end{DoxyCode}
